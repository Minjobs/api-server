<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MURDOO K - à¹€à¸¥à¸·à¸­à¸à¹€à¸ªà¹‰à¸™à¸—à¸²à¸‡à¹à¸«à¹ˆà¸‡à¹‚à¸Šà¸„à¸Šà¸°à¸•à¸²</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Niramit:wght@300;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/home.css">
    <style>
        /* ì¹´í…Œê³ ë¦¬ ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ */
        .category-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .category-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .category-card:hover {
            transform: translateY(-8px);
            background: rgba(255, 215, 0, 0.12);
            border-color: #ffd700;
            box-shadow: 0 10px 25px rgba(255, 215, 0, 0.2);
        }

        .category-icon { font-size: 2.8rem; margin-bottom: 12px; display: block; }

        .category-card h3 {
            font-family: 'Cinzel Decorative', cursive;
            color: #ffd700;
            font-size: 1.4rem;
            margin-bottom: 8px;
            letter-spacing: 1px;
        }

        .category-card p {
            color: #ccc;
            font-size: 0.95rem;
            line-height: 1.5;
            word-break: keep-all;
        }

        /* í—¤ë” ë‚´ë¹„ê²Œì´ì…˜ */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
        }

        .user-nav { display: flex; align-items: center; gap: 15px; }

        .profile-container {
            width: 46px; height: 46px; border-radius: 50%; overflow: hidden;
            border: 2px solid #ffd700; cursor: pointer; transition: 0.3s;
            display: none; /* ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ */
        }

        /* ë¡œê·¸ì¸ ë²„íŠ¼ ìŠ¤íƒ€ì¼ (ë¹„ë¡œê·¸ì¸ ìœ ì €ìš©) */
        #loginBtn {
            background: linear-gradient(45deg, #ffd700, #ffae00);
            color: #000;
            border: none;
            padding: 8px 18px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.9rem;
            cursor: pointer;
            display: none; /* ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ */
        }

        .logo { font-family: 'Cinzel Decorative'; color: #ffd700; font-size: 1.4rem; font-weight: 700; }
    </style>
</head>
<body>

    <div class="magic-background">
        <div class="magic-ring ring-1"></div>
        <div class="magic-ring ring-2"></div>
        <div class="magic-runes">âœ¨ ğŸ”® ğŸŒ™ â˜€ï¸ ğŸŒŸ ğŸŒ€ ğŸ•¯ï¸ ğŸŒ€ ğŸŒŸ â˜€ï¸ ğŸŒ™ ğŸ”® âœ¨</div>
    </div>

    <div class="container">
        <header>
            <div class="logo">âœ¨ MURDOO K</div>
            <div class="user-nav" id="userNav">
                <div class="profile-container" id="profileBox" onclick="location.href='/profile'">
                    <img id="userProfileImg" src="" alt="Profile">
                </div>
                <button id="loginBtn" onclick="location.href='/login'">à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š</button>
            </div>
        </header>

        <main>
            <div style="text-align: center; margin-bottom: 45px; margin-top: 20px;">
                <h2 style="font-family: 'Cinzel Decorative'; color: white; font-size: 1.8rem; margin-bottom: 10px;">à¹€à¸¥à¸·à¸­à¸à¹€à¸ªà¹‰à¸™à¸—à¸²à¸‡à¹à¸«à¹ˆà¸‡à¹‚à¸Šà¸„à¸Šà¸°à¸•à¸²</h2>
                <p style="color: #aaa; font-weight: 300;">à¹€à¸¥à¸·à¸­à¸à¸«à¸±à¸§à¸‚à¹‰à¸­à¸—à¸µà¹ˆà¸„à¸¸à¸“à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹ƒà¸«à¹‰à¸”à¸§à¸‡à¸”à¸²à¸§à¸™à¸³à¸—à¸²à¸‡</p>
            </div>

            <div class="category-grid">
                <div class="category-card" onclick="handleCategoryClick('personality')">
                    <span class="category-icon">ğŸ­</span>
                    <h3>Personality</h3>
                    <p>à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸•à¸±à¸§à¸•à¸™à¸—à¸µà¹ˆà¹à¸—à¹‰à¸ˆà¸£à¸´à¸‡à¸‚à¸­à¸‡à¸„à¸¸à¸“<br>à¸à¸£à¸ªà¸§à¸£à¸£à¸„à¹Œà¹à¸¥à¸°à¸­à¸¸à¸›à¸™à¸´à¸ªà¸±à¸¢à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸±à¸§à¸¡à¸²à¹à¸•à¹ˆà¸à¸³à¹€à¸™à¸´à¸”</p>
                </div>

                <div class="category-card" onclick="handleCategoryClick('wealth')">
                    <span class="category-icon">ğŸ’°</span>
                    <h3>Wealth</h3>
                    <p>à¸•à¸£à¸§à¸ˆà¹€à¸Šà¹‡à¸à¸”à¸§à¸‡à¸à¸²à¸£à¹€à¸‡à¸´à¸™à¹à¸¥à¸°à¸„à¸§à¸²à¸¡à¸¡à¸±à¹ˆà¸‡à¸„à¸±à¹ˆà¸‡<br>à¹‚à¸­à¸à¸²à¸ªà¹ƒà¸™à¸à¸²à¸£à¸£à¸±à¸šà¸—à¸£à¸±à¸à¸¢à¹Œà¹à¸¥à¸°à¸Šà¹ˆà¸§à¸‡à¹€à¸§à¸¥à¸²à¹à¸«à¹ˆà¸‡à¹‚à¸Šà¸„à¸¥à¸²à¸ </p>
                </div>

                <div class="category-card" onclick="handleCategoryClick('romance')">
                    <span class="category-icon">â¤ï¸</span>
                    <h3>Romance</h3>
                    <p>à¸„à¹‰à¸™à¸«à¸²à¹€à¸ªà¹‰à¸™à¸—à¸²à¸‡à¹à¸«à¹ˆà¸‡à¸„à¸§à¸²à¸¡à¸£à¸±à¸à¹à¸¥à¸°à¹€à¸™à¸·à¹‰à¸­à¸„à¸¹à¹ˆ<br>à¸¥à¸±à¸à¸©à¸“à¸°à¸„à¸¹à¹ˆà¸„à¸£à¸­à¸‡à¹à¸¥à¸°à¸”à¸§à¸‡à¸ªà¸¡à¸à¸‡à¸©à¹Œà¸‚à¸­à¸‡à¸«à¸±à¸§à¹ƒà¸ˆ</p>
                </div>
            </div>
        </main>

        <footer>
            <p>Â© 2026 MURDOO K. à¸šà¸±à¸™à¸—à¸¶à¸à¹à¸«à¹ˆà¸‡à¹‚à¸Šà¸„à¸Šà¸°à¸•à¸²à¸—à¸µà¹ˆà¸–à¸¹à¸à¸¥à¸´à¸‚à¸´à¸•</p>
        </footer>
    </div>

    <script>
        // ê¸€ë¡œë²Œ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ ë³€ìˆ˜
        let isLoggedIn = false;

        document.addEventListener('DOMContentLoaded', async () => {
            const profileBox = document.getElementById('profileBox');
            const loginBtn = document.getElementById('loginBtn');
            const profileImg = document.getElementById('userProfileImg');
            
            const initUser = async () => {
                try {
                    const res = await fetch('/api/user/profile', {
                        headers: { 'x-api-key': 'wodmfjc8202oj4tnguf9wo2k2jrnjdwow0011k2k2n3nfnnfndsiow901o2kkemrx999dej3j' }
                    });

                    if (res.ok) {
                        const user = await res.json();
                        const googleAvatar = 'https://www.gstatic.com/images/branding/product/1x/avatar_circle_blue_512dp.png';
                        profileImg.src = user.profile_img || googleAvatar;
                        profileBox.style.display = 'block';
                        isLoggedIn = true;
                    } else {
                        // ë¡œê·¸ì¸ ì‹¤íŒ¨ ì‹œ(ë¹„ë¡œê·¸ì¸ ìœ ì €) ë¡œê·¸ì¸ ë²„íŠ¼ ë…¸ì¶œ
                        loginBtn.style.display = 'block';
                        isLoggedIn = false;
                    }
                } catch (err) {
                    loginBtn.style.display = 'block';
                    isLoggedIn = false;
                }
            };

            await initUser();
        });

        // ì¹´í…Œê³ ë¦¬ í´ë¦­ ì‹œ ì²˜ë¦¬ ë¡œì§
        function handleCategoryClick(category) {
            // [í›„í‚¹ ì „ëµ] êµ¬ê²½ì€ ê°€ëŠ¥í•˜ì§€ë§Œ, ì‹¤ì œ ì‚¬ì£¼ë¥¼ ë³´ë ¤ë©´ ë¡œê·¸ì¸ì´ í•„ìš”í•˜ê²Œ ì„¤ì •
            if (!isLoggedIn) {
                if(confirm("à¸à¸£à¸¸à¸“à¸²à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸šà¸à¹ˆà¸­à¸™à¹€à¸à¸·à¹ˆà¸­à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸”à¸§à¸‡à¸Šà¸°à¸•à¸²à¸‚à¸­à¸‡à¸„à¸¸à¸“\n(ìƒì„¸ ì‚¬ì£¼ë¥¼ ë³´ë ¤ë©´ ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¡œê·¸ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?)")) {
                    window.location.href = '/login';
                }
            } else {
                window.location.href = `/${category}`;
            }
        }
    </script>
</body>
</html>
