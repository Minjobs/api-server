<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MEODU K - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏´‡πà‡∏á‡πÇ‡∏ä‡∏Ñ‡∏ä‡∏∞‡∏ï‡∏≤</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Niramit:wght@300;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/home.css">
</head>
<body>

    <div class="magic-background">
        <div class="magic-ring ring-1"></div>
        <div class="magic-ring ring-2"></div>
        <div class="magic-ring ring-3"></div>
        <div class="magic-runes">‚ú® üîÆ üåô ‚òÄÔ∏è üåü üåÄ üïØÔ∏è üåÄ üåü ‚òÄÔ∏è üåô üîÆ ‚ú®</div>
    </div>

    <div class="container">
        <header>
            <div class="logo">‚ú® MEODU K</div>
            <button id="logoutBtn" onclick="location.href='/api/auth/logout'">Î°úÍ∑∏ÏïÑÏõÉ</button>
        </header>

        <main>
            <section class="glass-card">
                <h2>‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡πÅ‡∏´‡πà‡∏á‡πÇ‡∏ä‡∏Ñ‡∏ä‡∏∞‡∏ï‡∏≤</h2>
                <p class="subtitle">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏´‡πà‡∏á‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>

                <form id="fortuneForm">
                    <div class="input-row">
                        <div class="field">
                            <label>‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á (Real Name)</label>
                            <input type="text" id="realName" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á" required>
                        </div>
                        <div class="field">
                            <label>‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô (Nickname)</label>
                            <input type="text" id="nickName" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô" required>
                        </div>
                    </div>

                    <div class="field">
                        <label>‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏õ‡∏µ‡πÄ‡∏Å‡∏¥‡∏î (Date of Birth)</label>
                        <div class="dropdown-group dob-group">
                            <select id="birthDay" required><option value="" disabled selected>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</option></select>
                            <select id="birthMonth" required>
                                <option value="" disabled selected>‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</option>
                                <option value="01">‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° (Jan)</option>
                                <option value="02">‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå (Feb)</option>
                                <option value="03">‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏° (Mar)</option>
                                <option value="04">‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô (Apr)</option>
                                <option value="05">‡∏û‡∏§‡∏©‡∏†‡∏≤‡∏Ñ‡∏° (May)</option>
                                <option value="06">‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô (Jun)</option>
                                <option value="07">‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏° (Jul)</option>
                                <option value="08">‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏° (Aug)</option>
                                <option value="09">‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô (Sep)</option>
                                <option value="10">‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° (Oct)</option>
                                <option value="11">‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô (Nov)</option>
                                <option value="12">‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° (Dec)</option>
                            </select>
                            <select id="birthYear" required><option value="" disabled selected>‡∏õ‡∏µ (‡∏Ñ.‡∏®.)</option></select>
                        </div>
                    </div>

                    <div class="field">
                        <label>‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Å‡∏¥‡∏î (Birth Time)</label>
                        <div class="dropdown-group time-group">
                            <select id="birthHour" required><option value="" disabled selected>‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</option></select>
                            <select id="birthMin" required><option value="" disabled selected>‡∏ô‡∏≤‡∏ó‡∏µ</option></select>
                            <button type="button" id="unknownTimeBtn" class="unknown-btn">‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡πÄ‡∏ß‡∏•‡∏≤</button>
                        </div>
                    </div>

                    <div class="field">
                        <label>‡πÄ‡∏û‡∏® (Gender Identity)</label>
                        <select id="gender" required>
                            <option value="" disabled selected>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏®</option>
                            <option value="male">‡∏ä‡∏≤‡∏¢ (Male)</option>
                            <option value="female">‡∏´‡∏ç‡∏¥‡∏á (Female)</option>
                            <option value="tom">‡∏ó‡∏≠‡∏° (Tom)</option>
                            <option value="ladyboy">‡∏Å‡∏∞‡πÄ‡∏ó‡∏¢ (Kathoey)</option>
                            <option value="gay">‡πÄ‡∏Å‡∏¢‡πå (Gay)</option>
                            <option value="lesbian">‡πÄ‡∏•‡∏™‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ô (Lesbian)</option>
                            <option value="other">‡∏≠‡∏∑‡πà‡∏ô‡πÜ (Other)</option>
                        </select>
                    </div>

                    <button type="submit" class="submit-btn">‡∏î‡∏π‡∏î‡∏ß‡∏á‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</button>
                </form>
            </section>
        </main>

        <footer>
            <p>¬© 2026 MEODU K. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏´‡πà‡∏á‡πÇ‡∏ä‡∏Ñ‡∏ä‡∏∞‡∏ï‡∏≤‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏•‡∏¥‡∏Ç‡∏¥‡∏ï</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('fortuneForm');
            const daySel = document.getElementById('birthDay');
            const yearSel = document.getElementById('birthYear');
            const hourSel = document.getElementById('birthHour');
            const minSel = document.getElementById('birthMin');
            const monthSel = document.getElementById('birthMonth');
            const unknownBtn = document.getElementById('unknownTimeBtn');

            let isTimeUnknown = false;

            // 1. ÎìúÎ°≠Îã§Ïö¥ ÏòµÏÖò ÏûêÎèô ÏÉùÏÑ±
            for (let i = 1; i <= 31; i++) daySel.add(new Option(i, i < 10 ? `0${i}` : i));
            const currentYear = new Date().getFullYear();
            for (let i = currentYear; i >= 1900; i--) yearSel.add(new Option(i, i));
            for (let i = 0; i < 24; i++) hourSel.add(new Option(i < 10 ? `0${i}` : i, i < 10 ? `0${i}` : i));
            for (let i = 0; i < 60; i++) minSel.add(new Option(i < 10 ? `0${i}` : i, i < 10 ? `0${i}` : i));

            // 2. ÌÉúÍµ≠Ïñ¥ Ïª§Ïä§ÌÖÄ Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨ Î©îÏãúÏßÄ
            const setThaiValidation = (el) => {
                el.addEventListener('invalid', (e) => {
                    e.target.setCustomValidity("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ");
                });
                el.addEventListener('input', (e) => {
                    e.target.setCustomValidity("");
                });
            };
            form.querySelectorAll('input, select').forEach(input => setThaiValidation(input));

            // 3. 'Î™®Î¶Ñ' Î≤ÑÌäº Î°úÏßÅ (Î¶¨ÏÖã Î∞è ÎπÑÌôúÏÑ±Ìôî)
            unknownBtn.addEventListener('click', () => {
                isTimeUnknown = !isTimeUnknown;
                const controls = [daySel, monthSel, yearSel, hourSel, minSel];

                if (isTimeUnknown) {
                    unknownBtn.classList.add('active');
                    controls.forEach(el => {
                        el.selectedIndex = 0;
                        el.disabled = true;
                        el.required = false;
                        el.style.opacity = '0.3';
                    });
                } else {
                    unknownBtn.classList.remove('active');
                    controls.forEach(el => {
                        el.disabled = false;
                        el.required = true;
                        el.style.opacity = '1';
                    });
                }
            });

            // 4. Ìèº Ï†úÏ∂ú
            form.addEventListener('submit', (e) => {
                e.preventDefault();
                let fDate, fTime;

                if (isTimeUnknown) {
                    fDate = '2777-07-07';
                    fTime = '07:07';
                } else {
                    fDate = `${yearSel.value}-${monthSel.value}-${daySel.value}`;
                    fTime = `${hourSel.value}:${minSel.value}`;
                }

                const payload = {
                    realName: document.getElementById('realName').value,
                    nickName: document.getElementById('nickName').value,
                    birthDate: fDate,
                    birthTime: fTime,
                    gender: document.getElementById('gender').value
                };

                console.log('üîÆ Destiny Payload:', payload);
                alert('‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏î‡∏ß‡∏á‡∏ä‡∏∞‡∏ï‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß...');
            });
        });
    </script>
</body>
</html>
